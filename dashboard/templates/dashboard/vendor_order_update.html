{% extends "dashboard/base.html" %}

{% block container %}
<h2>Update Order #{{ order.id }}</h2>

{% if error %}
    <p class="error">{{ error }}</p>
{% else %}
    <form method="post">
        {% csrf_token %}
        <div>
            <label>Product: {{ order.product.name }}</label><br>
            <label>Customer: {{ order.user.full_name }}</label><br>
            <label>Current Status: {{ order.get_status_display }}</label><br><br>
            
            <label for="status">Update Status:</label>
            <select name="status" id="status">
                {% for value, label in status_choices %}
                    <option value="{{ value }}" {% if order.status == value %}selected{% endif %}>
                        {{ label }}
                    </option>
                {% endfor %}
            </select>
        </div>
        <br>
        <button type="submit">Update Status</button>
        <a href="{% url 'dashboard:vendor_orders' %}">Cancel</a>
    </form>
{% endif %}
{% endblock container %}